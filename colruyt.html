<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script defer src="https://unpkg.com/alpinejs@3.5.0/dist/cdn.min.js"></script>
    <title>Colruyt</title>
</head>
<body>
    <div x-data="{
        postcode: null,
        locatie: null,
        async getFiliaal() {
            this.locatie = await (await fetch('http://127.0.0.1:8000/filiaal/' + this.postcode)).json();
        }
    }">
        <input type="text" x-model="postcode">
        <button @click="getFiliaal()">Indienen</button>
        Data returned: <strong x-text="locatie.locatie">Placeholder</strong>
    </div>
    <div x-data="{
        categorie : null,
        products: null,
        async getProducts() {
            this.products = await (await fetch('http://127.0.0.1:8000/product/' + this.categorie)).json();
            console.log('categorie: ', this.categorie);
            console.log(this.products);
        }
    }">
        <input type="text" x-model="categorie">
        <button @click="getProducts()">Indienen</button>
        <template x-for="product in products">
            <div><span x-text="product.categorie"></span> <span x-text="product.product"></span> <span x-text="product.prijs"></span></div>
        </template>
    </div>
</body>
</html>